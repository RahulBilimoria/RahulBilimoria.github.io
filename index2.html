<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ThreeJS Intro Page Demo</title>
    <style>
      body { margin: 0; }
      canvas { width:100%; height: 100%; }
    </style>
  </head>
  <body>
    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>
    <script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      
      var ringObj;
      var githubObj;
      var linkedinObj;
      
      var renderer = new THREE.WebGLRenderer({antialias: true});
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      
      window.addEventListener('resize', function(){
      var width = window.innerWidth;
      var height = window.innerHeight;
      renderer.setSize(width, height);
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
    });
      
      
      var controls = new THREE.OrbitControls(camera, renderer.domElement);
      
      //loader for all objects
      var matLoader = new THREE.MTLLoader();
      //anisotropy for sharpness adjustment
      var maxAnisotropy = renderer.capabilities.getMaxAnisotropy();
      
      matLoader.load('models/name.mtl', function(mats){
        mats.preload();
        var objLoader = new THREE.OBJLoader();
        objLoader.setMaterials(mats);
        mats.materials.Ring.map.anisotropy = maxAnisotropy;
        objLoader.load('models/name.obj',function (object) {
          ringObj = object;
          scene.add(object);
        });
      });
      
      matLoader.load('models/github.mtl', function(mats) {
        mats.preload();
        var objLoader = new THREE.OBJLoader();
        objLoader.setMaterials(mats);
        objLoader.load('models/github.obj', function(object) {
          githubObj = object;
          githubObj.position.set(4,0,4);
          scene.add(object);
        })
      })
      
      matLoader.load('models/linkedin.mtl', function(mats) {
        mats.preload();
        var objLoader = new THREE.OBJLoader();
        objLoader.setMaterials(mats);
        objLoader.load('models/linkedin.obj', function(object) {
          linkedinObj = object;
          linkedinObj.position.set(-4,0,4);
          scene.add(object);
        })
      })
          
      var sunGeometry = new THREE.SphereGeometry(0.8, 32, 32);
      var material = new THREE.MeshPhongMaterial({color: 0xFFFF00, wireframe: false});

      var sun = new THREE.Mesh(sunGeometry, material);
      scene.add(sun);
      
      var light = new THREE.AmbientLight(0xffffff, 1.75);
      scene.add(light);
      
      camera.position.z = 5;
      
      var update = function(){
        //use loading manager
        ringObj.rotateY(0.0174533);
      };
      
      var render = function(){
        renderer.render(scene, camera);
      };
      
      var loop = function(){
        requestAnimationFrame(loop);
        update();
        render();
      }
      
      loop();
    </script>
  </body>
</html>